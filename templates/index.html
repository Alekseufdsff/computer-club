{% extends 'base.html' %}

{% block content %}
<div class="row">
    <div class="col-md-8">
        <div class="hero-section text-center p-5 mb-4">
            <h1 class="display-4 text-warning">üéØ GAME COMPUTER CLUB</h1>
            <p class="lead text-white">–õ—É—á—à–∏–µ –∏–≥—Ä–æ–≤—ã–µ –∫–æ–º–ø—å—é—Ç–µ—Ä—ã –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö –≥–µ–π–º–µ—Ä–æ–≤</p>
            
            {% if not user.is_authenticated %}
                <div class="mt-4">
                    <a href="{% url 'register' %}" class="btn btn-warning btn-lg me-3">–ù–∞—á–∞—Ç—å –∏–≥—Ä–∞—Ç—å</a>
                    <a href="{% url 'login' %}" class="btn btn-outline-warning btn-lg">–í–æ–π—Ç–∏</a>
                </div>
            {% else %}
                <div class="mt-4">
                    <a href="{% url 'computers_list' %}" class="btn btn-warning btn-lg">üíª –í—ã–±—Ä–∞—Ç—å –∫–æ–º–ø—å—é—Ç–µ—Ä</a>
                </div>
            {% endif %}
        </div>

        <div class="news-section">
            <h3 class="text-warning mb-4">üì¢ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</h3>
            {% for item in news %}
            <div class="news-item card mb-3 custom-card">
                <div class="card-body">
                    <h5 class="card-title text-white">{{ item.title }}</h5>
                    <p class="card-text text-light">{{ item.content|truncatewords:30 }}</p>
                    <small class="text-muted">–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ: {{ item.created_at|date:"d.m.Y H:i" }}</small>
                </div>
            </div>
            {% empty %}
            <div class="alert alert-dark">
                –ü–æ–∫–∞ –Ω–µ—Ç –Ω–æ–≤–æ—Å—Ç–µ–π
            </div>
            {% endfor %}
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="stats-section">
            <div class="card custom-card">
                <div class="card-body">
                    <h5 class="card-title text-warning">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–ª—É–±–∞</h5>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item custom-list-item">
                            <strong>–ö–æ–º–ø—å—é—Ç–µ—Ä–æ–≤ –≤—Å–µ–≥–æ:</strong> 
                            <span class="badge bg-warning">{{ computers_count|default:"0" }}</span>
                        </li>
                        <li class="list-group-item custom-list-item">
                            <strong>–°–≤–æ–±–æ–¥–Ω–æ —Å–µ–π—á–∞—Å:</strong> 
                            <span class="badge bg-success">{{ free_computers|default:"0" }}</span>
                        </li>
                        <li class="list-group-item custom-list-item">
                            <strong>–ò–≥—Ä–æ–∫–æ–≤ –æ–Ω–ª–∞–π–Ω:</strong> 
                            <span class="badge bg-info">{{ online_users|default:"0" }}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}